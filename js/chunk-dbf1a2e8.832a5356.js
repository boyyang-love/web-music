(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dbf1a2e8"],{2156:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"result"}},[a("div",{staticClass:"result"},[a("div",{staticClass:"star"},[a("div",{staticClass:"name"},[a("h1",[t._v(t._s(t.$route.query.q))]),a("span",[t._v("找到"+t._s(t.num)+"个结果")])]),a("div",{staticClass:"type"},[a("el-tabs",{model:{value:t.activeIndex,callback:function(s){t.activeIndex=s},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[a("div",{staticClass:"songs"},[a("table",{staticClass:"el-table playlit-table"},[a("thead",[a("th"),a("th",[t._v("音乐标题")]),a("th",[t._v("歌手")]),a("th",[t._v("专辑")]),a("th",[t._v("时长")])]),a("tbody",t._l(t.songList,(function(s,i){return a("tr",{key:i,staticClass:"el-table__row",on:{dblclick:function(a){return t.playmusic(s.id)}}},[a("td",[t._v(t._s(i+1))]),a("td",[a("div",{staticClass:"song-wrap"},[a("span",[t._v(t._s(s.name))]),0!=s.mvid?a("span",{staticClass:"mvPlay"},[a("i",{staticClass:"iconfont icon-MV",on:{click:function(a){return t.playMv(s.mvid)}}})]):t._e()]),a("span",{staticClass:"about"},[t._v(t._s(s.alias[0]))])]),a("td",[t._v(t._s(s.artists[0].name))]),a("td",[t._v(t._s(s.album.name))]),a("td",[t._v(t._s(s.duration))])])})),0)]),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.num,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1)])]),a("el-tab-pane",{attrs:{label:"歌单",name:"lists"}},[a("div",{staticClass:"musiclist"},[t._l(t.playlists,(function(s,i){return a("div",{key:i,staticClass:"item-musiclist"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:s.coverImgUrl,alt:""}}),a("div",{staticClass:"playcount"},[t._v("播放量:"+t._s(s.playCount))]),a("div",{staticClass:"play"},[a("i",{staticClass:"iconfont icon-bofang2",on:{click:function(a){return t.toplaylist(s.id)}}})])]),a("div",{staticClass:"name"},[a("p",[t._v(t._s(s.name))])])])})),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.num,"page-size":10},on:{"current-change":t.handleCurrentChange}})],1)],2)]),a("el-tab-pane",{attrs:{label:"MV",name:"mv"}},[a("div",{staticClass:"mvs"},[a("div",{staticClass:"mv"},t._l(t.mvlists,(function(s,i){return a("div",{key:i,staticClass:"mv-wraper"},[a("div",{staticClass:"mv-img"},[a("img",{attrs:{src:s.cover,alt:""}}),a("div",{staticClass:"mv-playcount"},[a("i",{staticClass:"el-icon-caret-right"}),t._v(" "+t._s(s.playCount)+" ")]),a("div",{staticClass:"mv-play-icon"},[a("i",{staticClass:"iconfont icon-bofang2",on:{click:function(a){return t.playMv(s.id)}}})]),a("div",{staticClass:"mv-time"},[t._v("5:20")])]),a("div",{staticClass:"mv-name"},[t._v(t._s(s.name))]),a("div",{staticClass:"singer"},[t._v(t._s(s.artistName))])])})),0),a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.num,"page-size":8},on:{"current-change":t.handleCurrentChange}})],1)])])],1)],1)])])])},n=[],e={name:"Result",data:function(){return{songList:[],num:0,activeIndex:"songs",page:1,playlists:[],mvlists:[],limit:10}},watch:{activeIndex:function(){this.getall()}},methods:{playMv:function(t){this.$router.push("/mvdetail?id="+t)},playmusic:function(t){var s=this;this.$axios({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){var a=t.data.data[0].url;s.$store.state.player.url=a}))},toplaylist:function(t){this.$router.push("/playlistdetail?id="+t)},handleCurrentChange:function(t){this.page=t,this.getall()},getall:function(){var t=this,s=1;switch(this.activeIndex){case"songs":s=1,this.limit=10;break;case"lists":s=1e3,this.limit=10;break;case"mv":s=1004,this.limit=8;break;default:break}this.$axios({url:"https://autumnfish.cn/search",method:"get",params:{keywords:this.$route.query.q,type:s,limit:this.limit,offset:(this.page-1)*this.limit}}).then((function(a){if(1==s){t.songList=a.data.result.songs,t.num=a.data.result.songCount;for(var i=t.songList.length,n=0;n<i;n++){var e=parseInt(t.songList[n].duration/1e3/60),l=parseInt(t.songList[n].duration/1e3%60);e<10&&(e="0"+e),l<10&&(l="0"+l),t.songList[n].duration=e+":"+l}}else if(1e3==s){t.playlists=a.data.result.playlists,t.num=a.data.result.playlistCount;for(var r=t.playlists.length,c=0;c<r;c++)t.playlists[c].playCount>1e4&&(t.playlists[c].playCount=parseInt(t.playlists[c].playCount/1e4)+"W")}else{t.num=a.data.result.mvCount,t.mvlists=a.data.result.mvs;for(var o=t.mvlists.length,u=0;u<o;u++)t.mvlists[u].playCount>1e4&&(t.mvlists[u].playCount=parseInt(t.mvlists[u].playCount/1e4)+"w")}}))}},created:function(){this.getall()}},l=e,r=(a("ecda"),a("2877")),c=Object(r["a"])(l,i,n,!1,null,"c7c82462",null);s["default"]=c.exports},b67a:function(t,s,a){},ecda:function(t,s,a){"use strict";var i=a("b67a"),n=a.n(i);n.a}}]);
//# sourceMappingURL=chunk-dbf1a2e8.832a5356.js.map