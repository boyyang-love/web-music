(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c1ec734"],{4196:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"listDetail"}},[s("div",{staticClass:"playlist"},[s("div",{staticClass:"top-wrap"},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}})]),s("div",{staticClass:"text-wrap"},[s("p",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),s("div",{staticClass:"auther-wrap"},[s("img",{attrs:{src:t.background,alt:""}}),s("span",[t._v(t._s(t.nickname))]),s("span",[t._v(t._s(t.time)+" 创建")])]),s("div",{staticClass:"tag-wrap"},[s("ul",{staticStyle:{listStyle:"none",display:"flex"}},[s("span",{staticStyle:{marginTop:"6px"}},[t._v("标签:")]),t._l(t.playlist.tags,(function(a,e){return s("li",{key:e,staticStyle:{margin:"5px"}},[t._v(t._s(a+"/"))])}))],2)]),s("div",{staticClass:"desc"},[t._v(t._s(t.playlist.description))])])]),s("div",{staticClass:"main-wrap"},[s("el-tabs",{model:{value:t.activeIndex,callback:function(a){t.activeIndex=a},expression:"activeIndex"}},[s("el-tab-pane",{attrs:{label:"歌曲列表",name:"songslist"}},[s("div",{staticClass:"songlist-wrap"},[s("table",{staticClass:"el-table playlit-table"},[s("thead",[s("th"),s("th"),s("th",[t._v("音乐标题")]),s("th",[t._v("歌手")]),s("th",[t._v("专辑")])]),s("tbody",t._l(t.musiclist,(function(a,e){return s("tr",{key:e},[s("td",[t._v(t._s(e+1))]),s("td",[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.al.picUrl,alt:""}}),s("i",{staticClass:"iconfont icon-bofang2 play",on:{click:function(s){return t.play(a.id)}}})])]),s("td",[s("div",{staticClass:"song-wrap"},[s("span",[t._v(t._s(a.name))])]),s("span",{staticClass:"about"})]),s("td",[t._v(t._s(a.ar[0].name))]),s("td",[t._v(t._s(a.al.name))])])})),0)])])]),s("el-tab-pane",{attrs:{label:"评论 ",name:"comment"}},[s("div",{staticClass:"comment"},[s("div",{staticClass:"title"},[s("h3",[t._v("热门评论("+t._s(t.commentNum)+")")]),s("div",{staticClass:"hot-comment"},[s("ul",t._l(t.comment,(function(a,e){return s("li",{key:e},[s("div",{staticClass:"head-img"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"comments"},[s("span",{staticStyle:{color:"#5192CB","font-size":"14px"}},[t._v(t._s(a.user.nickname)+":")]),t._v(" "+t._s(a.content)+" "),0!==a.beReplied.length?s("div",{staticClass:"replied"},[s("div",{staticStyle:{color:"#5192CB","font-size":"14px"}},[t._v(t._s(a.beReplied[0].user.nickname)+":")]),s("span",[t._v(t._s(a.beReplied[0].content))])]):t._e()])])})),0)])])]),s("div",{staticClass:"comment"},[s("div",{staticClass:"title"},[s("h3",[t._v("更多评论("+t._s(t.newcommentNum)+")")]),s("div",{staticClass:"hot-comment"},[s("ul",t._l(t.newcomment,(function(a,e){return s("li",{key:e},[s("div",{staticClass:"head-img"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"comments"},[s("span",{staticStyle:{color:"#5192CB","font-size":"14px"}},[t._v(t._s(a.user.nickname)+":")]),t._v(" "+t._s(a.content)+" "),0!==a.beReplied.length?s("div",{staticClass:"replied"},[s("div",{staticStyle:{color:"#5192CB","font-size":"14px"}},[t._v(t._s(a.beReplied[0].user.nickname)+":")]),s("span",[t._v(t._s(a.beReplied[0].content))])]):t._e()])])})),0)])])]),s("div",{staticClass:"page"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":20,"current-page":t.page,total:t.newcommentNum},on:{"current-change":t.handleCurrenChange}})],1)])],1)],1)])])},i=[],n={name:"PlayListDetail",data:function(){return{activeIndex:"songslist",total:0,page:1,playlist:{},nickname:"",time:"",background:"",musiclist:[],limit:10,comment:[],commentNum:"",newcomment:[],newcommentNum:0}},watch:{activeIndex:function(){var t=0;switch(this.activeIndex){case"songslist":t=0;break;case"comment":t=2;break;default:break}0==t?this.getPlayList(t):this.getComment(t)}},created:function(){this.getTitle(),this.getPlayList(),this.newComment()},methods:{getTitle:function(){var t=this;this.$axios({url:"https://autumnfish.cn/playlist/detail",method:"get",params:{id:this.$route.query.id}}).then((function(a){t.playlist=a.data.playlist,t.nickname=a.data.playlist.creator.nickname,t.time=a.data.playlist.creator.createTime,t.background=a.data.playlist.creator.backgroundUrl}))},getPlayList:function(t){var a=this;this.$axios({url:"https://autumnfish.cn/playlist/detail",method:"get",params:{id:this.$route.query.id,type:t,limit:this.limit}}).then((function(t){a.musiclist=t.data.playlist.tracks}))},getComment:function(t){var a=this;this.$axios({url:"https://autumnfish.cn/comment/hot",method:"get",params:{id:this.$route.query.id,type:t}}).then((function(t){a.comment=t.data.hotComments,a.commentNum=t.data.total}))},newComment:function(){var t=this;this.$axios({url:"https://autumnfish.cn/comment/playlist",method:"get",params:{limit:20,offset:20*(this.page-1),id:this.$route.query.id}}).then((function(a){t.newcomment=a.data.comments,t.newcommentNum=a.data.total,t.total=a.data.total}))},play:function(t){var a=this;this.$axios({url:"https://autumnfish.cn/song/url",method:"get",params:{id:t}}).then((function(t){var s=t.data.data[0].url;a.$store.state.player.url=s}))},handleCurrenChange:function(t){this.page=t,this.newComment()}}},l=n,c=(s("6b27"),s("2877")),o=Object(c["a"])(l,e,i,!1,null,"ab1f9998",null);a["default"]=o.exports},"6b27":function(t,a,s){"use strict";var e=s("8a8e"),i=s.n(e);i.a},"8a8e":function(t,a,s){}}]);
//# sourceMappingURL=chunk-0c1ec734.1fa85bb5.js.map